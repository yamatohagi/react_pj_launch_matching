(this["webpackJsonpmsal-react-quickstart"]=this["webpackJsonpmsal-react-quickstart"]||[]).push([[0],{118:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(47),i=n.n(a),o=(n(117),n(118),n(59)),s=n(9),j=n(35),l=n(69),b={auth:{clientId:"cfb0ea16-d74c-46df-809e-9a800b6faeb7",authority:"https://login.microsoftonline.com/common",redirectUri:"http://localhost:3000/"},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1},system:{loggerOptions:{loggerCallback:function(e,t,n){if(!n)switch(e){case l.a.Error:return void console.error(t);case l.a.Info:return void console.info(t);case l.a.Verbose:return void console.debug(t);case l.a.Warning:return void console.warn(t)}}}}},u={scopes:["User.Read"]},d="https://graph.microsoft.com/v1.0/me",h=n(96),O=n(45),m=n(1),f=function(){var e=Object(j.e)().instance;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(O.a,{className:"ml-auto",variant:"secondary",onClick:function(){e.loginRedirect(u).catch((function(e){console.log(e)}))},children:"Sign In"})})},x=function(){var e=Object(j.e)().instance;return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(O.a,{className:"ml-auto",variant:"secondary",onClick:function(){e.logoutRedirect({postLogoutRedirectUri:"/"})},children:"Sign Out"})})},p=function(e){var t=Object(j.d)();return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsxs)(h.a,{bg:"primary",variant:"dark",children:[Object(m.jsx)("a",{className:"navbar-brand",href:"/",children:"IBJ\u30e9\u30f3\u30c1\u30de\u30c3\u30c1"}),t?Object(m.jsx)(x,{}):Object(m.jsx)(f,{})]}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),e.children]})},g=function(e){var t=e.member,n=e.handleEditButton;return Object(m.jsxs)("div",{id:"profile-div",children:[Object(m.jsxs)("p",{children:[Object(m.jsx)("strong",{children:" Name: "})," ",t.name]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("strong",{children:"dept: "})," ",t.dept]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("strong",{children:"Email: "})," ",t.mail]}),Object(m.jsxs)("p",{children:[Object(m.jsx)("strong",{children:"Id: "})," ",t.id]}),Object(m.jsx)(O.a,{variant:"secondary",onClick:n(),children:"Edit"})]})},v=n(54),y=n.n(v),k=n(68);function S(){return(S=Object(k.a)(y.a.mark((function e(t){var n,c,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Headers,c="Bearer ".concat(t),n.append("Authorization",c),r={method:"GET",headers:n},e.abrupt("return",fetch(d,r).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var C=function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),c=0;c<n.length;c++){var r=n[c].trim();if(r.substring(0,e.length+1)===e+"="){t=decodeURIComponent(r.substring(e.length+1));break}}return t},E=function(e){var t=e.member,n=(e.handleEditButton,Object(c.useState)(t.name)),r=Object(s.a)(n,2),a=r[0],i=r[1],o=Object(c.useState)(t.dept),j=Object(s.a)(o,2),l=j[0],b=j[1];return Object(m.jsxs)("form",{onSubmit:function(){try{(function(e,t,n){var c={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":C("csrftoken")},body:JSON.stringify({id:e,dept:n,name:t})};return fetch("http://127.0.0.1:8000/api/update-member/",c)})(t.id,a,l).then((function(e){return e.json()})).then((function(e){console.log(e)}))}catch(e){console.log("eroor")}},children:[Object(m.jsxs)("label",{children:["Email: ",t.mail]}),Object(m.jsx)("br",{}),Object(m.jsxs)("label",{children:["Name:",Object(m.jsx)("input",{type:"text",value:a,onChange:function(e){i(e.target.value)}})]}),Object(m.jsx)("br",{}),Object(m.jsxs)("label",{children:["Dept:",Object(m.jsx)("input",{type:"text",value:l,onChange:function(e){b(e.target.value)}})]}),Object(m.jsx)("br",{}),Object(m.jsx)("input",{type:"submit",value:"Submit"})]})},T=n(175),N=n(163),I=n(174),w=n(177),R=n(179);var F=function(e){var t=e.matchEntry.map((function(e,t){return Object(m.jsxs)("tr",{children:[Object(m.jsx)("td",{children:e.id}),Object(m.jsx)("td",{children:e.expected_date}),Object(m.jsx)("td",{children:e.partner_member_id})]},t)}));return Object(m.jsx)("div",{children:Object(m.jsxs)("table",{className:"table table-striped",children:[Object(m.jsx)("thead",{children:Object(m.jsxs)("tr",{children:[Object(m.jsx)("th",{children:"Id"}),Object(m.jsx)("th",{children:"\u5e0c\u671b\u65e5"}),Object(m.jsx)("th",{children:"\u76f8\u624bID"})]})}),Object(m.jsx)("tbody",{children:t})]})})},B=function(e){var t=e.memberData,n=Object(c.useState)(null),r=Object(s.a)(n,2),a=r[0],i=r[1],j=Object(c.useState)(null),l=Object(s.a)(j,2),b=l[0],u=l[1],d=Object(c.useState)(!1),h=Object(s.a)(d,2),O=h[0],f=h[1],x=Object(c.useState)(new Date),p=Object(s.a)(x,2),v=p[0],y=p[1];Object(c.useEffect)((function(){try{(function(e,t){var n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":C("csrftoken")},body:JSON.stringify({mail:t,name:e})};return fetch("http://127.0.0.1:8000/api/set-get-member/",n)})(t.displayName,t.mail).then((function(e){return e.json()})).then((function(e){i(e)}))}catch(e){console.log("eroor")}}),[]);var k=function(){f(!O)};return Object(m.jsx)(m.Fragment,{children:a?Object(m.jsxs)("div",{style:{height:500},children:[Object(m.jsx)(N.b,{dateAdapter:T.a,children:Object(m.jsx)(I.a,{renderInput:function(e){return Object(m.jsx)(w.a,Object(o.a)({name:"date-time",id:"date-time"},e))},label:"\u958b\u59cb\u6642\u9593(\u301c1\u6642\u9593)",value:v,onChange:function(e){y(e)}})}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)(R.a,{id:"submit-button",variant:"contained",color:"primary",size:"large",onClick:function(){console.log("1234");try{(function(e,t){var n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":C("csrftoken")},body:JSON.stringify({member_id:e,expected_date:t})};return fetch("http://127.0.0.1:8000/api/new-match/",n)})(a.id,v).then((function(e){return e.json()})).then((function(e){console.log(e)}))}catch(e){console.log("eroor")}},children:"\u767b\u9332"}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)(R.a,{id:"submit-button",variant:"contained",color:"primary",size:"large",onClick:function(){(function(e){var t="http://127.0.0.1:8000/api/member-match-list/".concat(e,"/"),n={method:"GET",headers:{"Content-Type":"application/json","X-CSRFToken":C("csrftoken")}};return fetch(t,n)})(a.id).then((function(e){return e.json()})).then((function(e){console.log(e),u(e)}))},children:"\u5c65\u6b74"}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),b?Object(m.jsx)(F,{matchEntry:b}):null,O?Object(m.jsx)(E,{member:a,handleEditButton:function(){return k}}):Object(m.jsx)(g,{member:a,handleEditButton:function(){return k}})]}):Object(m.jsx)("h5",{className:"card-title",children:"WelcomeProfileData"})})},D=(n(126),function(){var e=Object(j.e)(),t=e.instance,n=e.accounts,r=Object(c.useState)(null),a=Object(s.a)(r,2),i=a[0],l=a[1];function b(){t.acquireTokenSilent(Object(o.a)(Object(o.a)({},u),{},{account:n[0]})).then((function(e){(function(e){return S.apply(this,arguments)})(e.accessToken).then((function(e){return l(e)}))}))}return Object(c.useEffect)((function(){b()}),[]),Object(m.jsx)(m.Fragment,{children:i?Object(m.jsx)(B,{memberData:i}):Object(m.jsx)(O.a,{variant:"secondary",onClick:b,children:"Request Profile Information"})})}),J=function(){return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(j.a,{children:Object(m.jsx)(D,{})}),Object(m.jsx)(j.c,{children:Object(m.jsx)("h5",{className:"card-title",children:"Please sign-in to see your profile information."})})]})};function P(){return Object(m.jsx)(p,{children:Object(m.jsx)(J,{})})}var _=new(n(176).a)(b);i.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(j.b,{instance:_,children:Object(m.jsx)(P,{})})}),document.getElementById("root"))}},[[127,1,2]]]);
//# sourceMappingURL=main.d3229423.chunk.js.map