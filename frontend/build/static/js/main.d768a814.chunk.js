(this["webpackJsonpmsal-react-quickstart"]=this["webpackJsonpmsal-react-quickstart"]||[]).push([[0],{118:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(46),i=n.n(a),s=(n(117),n(118),n(59)),o=n(9),l=n(35),j=n(69),b={auth:{clientId:"cfb0ea16-d74c-46df-809e-9a800b6faeb7",authority:"https://login.microsoftonline.com/common",redirectUri:"http://localhost:3000/"},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1},system:{loggerOptions:{loggerCallback:function(e,t,n){if(!n)switch(e){case j.a.Error:return void console.error(t);case j.a.Info:return void console.info(t);case j.a.Verbose:return void console.debug(t);case j.a.Warning:return void console.warn(t)}}}}},u={scopes:["User.Read"]},d="https://graph.microsoft.com/v1.0/me",h=n(96),O=n(1),f=function(){var e=Object(l.e)().instance;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)("button",{className:"appbtn",onClick:function(){e.loginRedirect(u).catch((function(e){console.log(e)}))},children:Object(O.jsx)("span",{children:"\u30ed\u30b0\u30a4\u30f3"})})})},m=n(52),x=function(){var e=Object(l.e)().instance;return Object(O.jsx)(O.Fragment,{children:Object(O.jsx)(m.a,{className:"ml-auto",variant:"secondary",onClick:function(){e.logoutRedirect({postLogoutRedirectUri:"/"})},children:"Sign Out"})})},p=function(e){var t=Object(l.d)();return Object(O.jsxs)(O.Fragment,{children:[t?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)(h.a,{bg:"primary",variant:"dark",children:[Object(O.jsx)("a",{className:"navbar-brand",href:"/",children:"IBJ\u663c\u30de\u30c3\u30c1"}),Object(O.jsx)(x,{})]}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{})]}):null,e.children]})},v=function(e){var t=e.member,n=e.handleEditButton;return Object(O.jsxs)("div",{id:"profile-div",children:[Object(O.jsxs)("p",{children:[Object(O.jsx)("strong",{children:" Name: "})," ",t.name]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("strong",{children:"dept: "})," ",t.dept]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("strong",{children:"Email: "})," ",t.mail]}),Object(O.jsxs)("p",{children:[Object(O.jsx)("strong",{children:"Id: "})," ",t.id]}),Object(O.jsx)(m.a,{variant:"secondary",onClick:n(),children:"Edit"})]})},g=n(54),y=n.n(g),k=n(68);function S(){return(S=Object(k.a)(y.a.mark((function e(t){var n,c,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Headers,c="Bearer ".concat(t),n.append("Authorization",c),r={method:"GET",headers:n},e.abrupt("return",fetch(d,r).then((function(e){return e.json()})).catch((function(e){return console.log(e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var N=function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),c=0;c<n.length;c++){var r=n[c].trim();if(r.substring(0,e.length+1)===e+"="){t=decodeURIComponent(r.substring(e.length+1));break}}return t},C=function(e){var t=e.member,n=(e.handleEditButton,Object(c.useState)(t.name)),r=Object(o.a)(n,2),a=r[0],i=r[1],s=Object(c.useState)(t.dept),l=Object(o.a)(s,2),j=l[0],b=l[1];return Object(O.jsxs)("form",{onSubmit:function(){try{(function(e,t,n){var c={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":N("csrftoken")},body:JSON.stringify({id:e,dept:n,name:t})};return fetch("http://127.0.0.1:8000/api/update-member/",c)})(t.id,a,j).then((function(e){return e.json()})).then((function(e){console.log(e)}))}catch(e){console.log("eroor")}},children:[Object(O.jsxs)("label",{children:["Email: ",t.mail]}),Object(O.jsx)("br",{}),Object(O.jsxs)("label",{children:["Name:",Object(O.jsx)("input",{type:"text",value:a,onChange:function(e){i(e.target.value)}})]}),Object(O.jsx)("br",{}),Object(O.jsxs)("label",{children:["Dept:",Object(O.jsx)("input",{type:"text",value:j,onChange:function(e){b(e.target.value)}})]}),Object(O.jsx)("br",{}),Object(O.jsx)("input",{type:"submit",value:"Submit"})]})},E=n(177),T=n(165),I=n(176),w=n(179),B=n(181);var F=function(e){var t=e.matchEntry.map((function(e,t){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.lunch_date}),Object(O.jsx)("td",{children:e.partner_name}),Object(O.jsx)("td",{children:e.partner_dept})]},t)}));return Object(O.jsx)("div",{children:Object(O.jsxs)("table",{className:"table table-striped",children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{children:[Object(O.jsx)("th",{children:"\u5e0c\u671b\u65e5"}),Object(O.jsx)("th",{children:"\u540d\u524d"}),Object(O.jsx)("th",{children:"\u90e8\u7f72"})]})}),Object(O.jsx)("tbody",{children:t})]})})},D=function(e){var t=e.memberData,n=Object(c.useState)(null),r=Object(o.a)(n,2),a=r[0],i=r[1],l=Object(c.useState)(null),j=Object(o.a)(l,2),b=j[0],u=j[1],d=Object(c.useState)(null),h=Object(o.a)(d,2),f=h[0],m=h[1],x=Object(c.useState)(!1),p=Object(o.a)(x,2),g=p[0],y=p[1],k=Object(c.useState)(new Date),S=Object(o.a)(k,2),D=S[0],R=S[1];Object(c.useEffect)((function(){try{(function(e,t){var n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":N("csrftoken")},body:JSON.stringify({mail:t,name:e})};return fetch("http://127.0.0.1:8000/api/set-get-member/",n)})(t.displayName,t.mail).then((function(e){return e.json()})).then((function(e){i(e)}))}catch(e){console.log("eroor")}}),[]),Object(c.useEffect)((function(){null==b&&void 0==b||alert(Object.values(b))}),[b]);var M=function(){y(!g)};return Object(O.jsx)(O.Fragment,{children:a?Object(O.jsxs)("div",{style:{height:500},children:[Object(O.jsx)(T.b,{dateAdapter:E.a,children:Object(O.jsx)(I.a,{renderInput:function(e){return Object(O.jsx)(w.a,Object(s.a)({name:"date-time",id:"date-time"},e))},label:"\u958b\u59cb\u6642\u9593(\u301c1\u6642\u9593)",value:D,onChange:function(e){R(e)}})}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)(B.a,{id:"submit-button",variant:"contained",color:"primary",size:"large",onClick:function(){console.log("1234");try{(function(e,t){var n={method:"POST",headers:{"Content-Type":"application/json","X-CSRFToken":N("csrftoken")},body:JSON.stringify({member_id:e,expected_date:t})};return fetch("http://127.0.0.1:8000/api/new-match/",n)})(a.id,D).then((function(e){return e.json()})).then((function(e){console.log(e),u(e)}))}catch(e){console.log("eroor")}},children:"\u767b\u9332"}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)(B.a,{id:"submit-button",variant:"contained",color:"primary",size:"large",onClick:function(){(function(e){var t="http://127.0.0.1:8000/api/member-match-list/".concat(e,"/"),n={method:"GET",headers:{"Content-Type":"application/json","X-CSRFToken":N("csrftoken")}};return fetch(t,n)})(a.id).then((function(e){return e.json()})).then((function(e){console.log(e),m(e)}))},children:"\u5c65\u6b74"}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),Object(O.jsx)("br",{}),f?Object(O.jsx)(F,{matchEntry:f}):null,g?Object(O.jsx)(C,{member:a,handleEditButton:function(){return M}}):Object(O.jsx)(v,{member:a,handleEditButton:function(){return M}})]}):Object(O.jsx)("h5",{className:"card-title",children:"WelcomeProfileData"})})},R=(n(126),function(e){var t=e.slide,n=t.title,c=t.subtitle,r=t.img,a=t.img2,i=e.className;return Object(O.jsxs)("div",{className:i,children:[a&&Object(O.jsx)("div",{className:"img2",children:Object(O.jsx)("img",{src:a,alt:""})}),Object(O.jsxs)("div",{className:"slidecont",children:[Object(O.jsxs)("div",{className:"slidetitles",children:[Object(O.jsx)("h3",{children:c}),Object(O.jsx)("h1",{children:n})]}),Object(O.jsx)(f,{})]}),Object(O.jsx)("img",{src:r,alt:""})]})}),M=(n(127),n.p+"static/media/lunch_banner.176458fb.jpg"),A=function(e){var t=Object(c.useState)(4e3),n=Object(o.a)(t,1)[0],r=Object(c.useState)(!0),a=Object(o.a)(r,2),i=a[0],s=a[1],l=Object(c.useState)(0),j=Object(o.a)(l,2),b=j[0],u=j[1],d=[{subtitle:"\u663c\u9593\u306e\u30e9\u30f3\u30c1\u76f8\u624b\u63a2\u3059\u306e\u306f\u5927\u5909\uff1f",title:"\u30de\u30c3\u30c1\u3057\u3066\u307f\u305f\u3089!",img:"https://images.unsplash.com/photo-1494859802809-d069c3b71a8a?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8OXx8bHVuY2h8ZW58MHx8MHx8&auto=format&fit=crop&w=800&q=60",position:1,class:"left"},{subtitle:"IBJ\u663c\u30de\u30c3\u30c1",title:"\u3044\u308d\u3093\u306a\u6587\u5316\u306e\u30e9\u30f3\u30c1\u697d\u3057\u3081\u308b",img:"https://images.unsplash.com/photo-1543352634-a1c51d9f1fa7?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxzZWFyY2h8MTR8fGx1bmNofGVufDB8fDB8fA%3D%3D&auto=format&fit=crop&w=800&q=60",position:2,img2:"http://assets.stickpng.com/thumbs/5af16e2c6554160a79bea007.png",class:"leftimg"},{title:"\u793e\u5185\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3072\u308d\u5c55\u958b",subtitle:"\u77e5\u3089\u306a\u3044\u540c\u50da\u3068\u4ef2\u826f\u304f\u306a\u308d\u3046",img:M,position:3,class:"center"}],h=null===d||void 0===d?void 0:d.map((function(e,t){return Object(O.jsx)(R,{className:"slide ".concat(e.class," ").concat(b%d.length===t&&"active"),slide:e,pos:b})})),f=d.map((function(e,t){return Object(O.jsx)("div",{className:"carouselitem ".concat(b%d.length===t&&"activecarouselitem"),onClick:function(){u(t),s(!1),setTimeout((function(){s(!0)}),0)},children:Object(O.jsx)("i",{className:"fal fa-dot-circle"})})})),m=Object(c.useState)(0),x=Object(o.a)(m,2),p=(x[0],x[1]);return Object(c.useEffect)((function(){u(0)}),[]),Object(c.useEffect)((function(){var e,t;return i?(e=setInterval((function(){u((function(e){return e+1})),p(0)}),n),t=setInterval((function(){p((function(e){return e+1}))}),1)):(clearInterval(e),clearInterval(t),p(0)),function(){clearInterval(e),clearInterval(t),p(0)}}),[i,n]),Object(O.jsxs)("div",{className:"carouselbanner",children:[Object(O.jsx)("div",{className:"slides",children:h}),Object(O.jsxs)("div",{className:"carouselcontrols",children:[f,Object(O.jsx)("div",{className:"pause",children:Object(O.jsx)("i",{onClick:function(){return s(!i)},className:i?"fal fa-pause":"fal fa-play"})})]})]})},J=(n(128),function(){var e=Object(l.e)(),t=e.instance,n=e.accounts,r=Object(c.useState)(null),a=Object(o.a)(r,2),i=a[0],j=a[1];function b(){t.acquireTokenSilent(Object(s.a)(Object(s.a)({},u),{},{account:n[0]})).then((function(e){(function(e){return S.apply(this,arguments)})(e.accessToken).then((function(e){return j(e)}))}))}return Object(c.useEffect)((function(){b()}),[]),Object(O.jsx)(O.Fragment,{children:i?Object(O.jsx)(D,{memberData:i}):Object(O.jsx)(m.a,{variant:"secondary",onClick:b,children:"Request Profile Information"})})}),q=function(){return Object(O.jsxs)("div",{className:"App",children:[Object(O.jsx)(l.a,{children:Object(O.jsx)(J,{})}),Object(O.jsx)(l.c,{children:Object(O.jsx)(A,{})})]})};function H(){return Object(O.jsx)(p,{children:Object(O.jsx)(q,{})})}var _=new(n(178).a)(b);i.a.render(Object(O.jsx)(r.a.StrictMode,{children:Object(O.jsx)(l.b,{instance:_,children:Object(O.jsx)(H,{})})}),document.getElementById("root"))}},[[129,1,2]]]);
//# sourceMappingURL=main.d768a814.chunk.js.map